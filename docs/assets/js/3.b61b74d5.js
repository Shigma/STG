(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{29:function(module,__webpack_exports__,__webpack_require__){"use strict";var _utils_vnode__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),_stg_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50),_stg_utils__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_stg_utils__WEBPACK_IMPORTED_MODULE_1__),_dist_icons_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),_dist_icons_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_dist_icons_css__WEBPACK_IMPORTED_MODULE_2__);const updateInterval=50;__webpack_exports__.a={props:{width:{type:Number,default:480},height:{type:Number,default:560},autoRun:Boolean},data:()=>({layoutWidth:null,tabMovingToRight:0,tabIndex:null,fileIndex:0,active:!1,tickRate:null,dropRate:null,lastModified:0}),computed:{aspectRatio(){return 2*this.width/this.height},layoutStyle(){return this.layoutWidth?{width:this.layoutWidth+"px",height:this.layoutWidth/this.aspectRatio+"px"}:{}}},watch:{fileIndex:"setBarrage",async tabIndex(t,e){null!==this.oldValue&&(this.tabMovingToRight=t>e),1===this.tabIndex&&(await this.$nextTick(),[].forEach.call(this.$refs.code.childNodes,(t,e)=>{this.fileIndex===e?t.classList.remove("inactive"):t.classList.add("inactive")}))}},created(){this.tabIndex=1,this.multiFile=this.$slots.default.length>1,this.files=this.$slots.default.map(vnode=>{const code=Object(_utils_vnode__WEBPACK_IMPORTED_MODULE_0__.a)(vnode),exports={},module={code:code,exports:exports},require=()=>_stg_utils__WEBPACK_IMPORTED_MODULE_1__;try{const args="(exports,module,require)";eval(`(${args}=>{${code}})${args}`)}catch(t){console.error(t),console.warn("An error encounted in: \n"+code)}return module})},async mounted(){this.layout(),addEventListener("resize",()=>this.layout());const t=await __webpack_require__.e(18).then(__webpack_require__.t.bind(null,55,7));this.field=new t.Field(this.$refs.field),this.field.addEventListener("pause",()=>this.active=!1),this.field.addEventListener("resume",()=>this.active=!0),this.field.addEventListener("update",()=>this.updateStats()),this.autoRun||this.field.setPlayer({}),this.setBarrage()},methods:{async layout(){await this.$nextTick();const t=this.$el.parentElement?this.$el.parentElement.offsetWidth:1/0;this.layoutWidth=Math.min(t,(innerHeight-100)*this.aspectRatio)},setBarrage(){this.field&&(this.field.setBarrage(this.files[this.fileIndex].exports),this.autoRun&&this.field.toggle())},toggle(){this.field&&this.field.toggle()},updateStats(){if(!this.field||null===this.field._frameId)return;const t=performance.now();if(t-this.lastModified<updateInterval)return;const e=this.field.getStatus();e&&(this.tickRate=e.tickRate.toFixed(1),this.dropRate=Math.floor(100*e.dropRate)+"%",this.lastModified=t)}}}},30:function(t,e,i){},31:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=1024;e.default=function(t){let e=1,i=0,s=0;const n={},o={};function l(t){if(delete n[t],t===e)for(;!n.hasOwnProperty(++e);)continue}return(...r)=>{const _=function(t){let e=t.length-1,i=String(t[e]);for(;--e>=0;)i+=""+t[e];return i}(r.slice(0,t.length)),d=o[_],u=++s;if(n[u]=_,d)return l(d.index),d.index=u,d.value;{const s=t(...r);return o[_]={index:u,value:s},(i+=1)<=a?s:(delete o[n[e]],i-=1,l(e),s)}}}},49:function(t,e,i){"use strict";function a(t){return void 0===t.tag&&void 0!==t.text?t.text:t.children.map(a).join("")}i.d(e,"a",function(){return a})},50:function(t,e,i){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const n=a(i(31));e.memorize=n.default;const o=s(i(51));e.random=o;const l=s(i(52));e.math=l},51:function(t,e,i){"use strict";function a(){return 2*Math.floor(2*Math.random())-1}function s(...t){const e=t.length>1?t[0]:0,i=t[t.length-1];return Math.random()*(i-e)+e}function n(...t){let e=Math.random()*t.reduce((t,e)=>t+e,0);for(let i=0;i<t.length;i+=1)if((e-=t[i])<0)return i}Object.defineProperty(e,"__esModule",{value:!0}),e.pm1=a,e.real=s,e.int=function(...t){return Math.floor(s(...t))},e.choose=n,e.transfer=function(t,e,i,o,l){return t<e+o?t+s(o,l):t>i-o?t-s(o,l):t<e+l?n(t-e-o,l-o)?t+s(o,l):t-s(o,t-e-o):t>i-l?n(i-t-o,l-o)?t-s(o,l):t+s(o,i-t-o):t+s(o,l)*a()}},52:function(t,e,i){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(i(31));e.twoPi=2*Math.PI,e.halfPi=Math.PI/2,e.sqrt=s.default(Math.sqrt),e.cbrt=s.default(Math.cbrt),e.exp=s.default(Math.exp),e.log=s.default(Math.log),e.log2=s.default(Math.log2),e.log10=s.default(Math.log10),e.sin=s.default(Math.sin),e.cos=s.default(Math.cos),e.tan=s.default(Math.tan),e.sinh=s.default(Math.sinh),e.cosh=s.default(Math.cosh),e.tanh=s.default(Math.tanh),e.asin=s.default(Math.asin),e.acos=s.default(Math.acos),e.atan=s.default(Math.atan),e.atan2=s.default(Math.atan2),e.asinh=s.default(Math.asinh),e.acosh=s.default(Math.acosh),e.atanh=s.default(Math.atanh)},53:function(t,e,i){},54:function(t,e,i){"use strict";var a=i(30);i.n(a).a},58:function(t,e,i){"use strict";i.r(e);var a=i(29).a,s=(i(54),i(1)),n=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stg-demo",class:{"multi-file":t.multiFile},style:t.layoutStyle},[i("div",{staticClass:"left"},[t.multiFile?i("div",{staticClass:"toolbar"},[i("div",{class:["tab",{active:0===t.tabIndex}],on:{click:function(e){e.stopPropagation(),t.tabIndex=0}}},[i("i",{staticClass:"icon-folder"}),t._v("浏览\n      ")]),t._v(" "),i("div",{class:["tab",{active:1===t.tabIndex}],on:{click:function(e){e.stopPropagation(),t.tabIndex=1}}},[i("i",{staticClass:"icon-source"}),t._v("代码\n      ")]),t._v(" "),i("div",{class:["tab",{active:2===t.tabIndex}],on:{click:function(e){e.stopPropagation(),t.tabIndex=2}}},[i("i",{staticClass:"icon-settings"}),t._v("设置\n      ")]),t._v(" "),i("span",{staticClass:"underline",style:{left:(2*t.tabIndex+1)/6*100+"%"}})]):t._e(),t._v(" "),i("div",{staticClass:"container"},[i("transition",{attrs:{name:"container","leave-to-class":"transform-to-"+(t.tabMovingToRight?"left":"right"),"enter-class":"transform-to-"+(t.tabMovingToRight?"right":"left")}},[0===t.tabIndex?i("div",{key:"0",staticClass:"explorer"},t._l(t.files,function(e,a){return i("div",{key:a,class:["item",{active:t.fileIndex===a}],domProps:{textContent:t._s(e.exports.title)},on:{click:function(e){e.stopPropagation(),t.fileIndex=a}}})}),0):1===t.tabIndex?i("div",{key:"1",ref:"code",staticClass:"code"},[t._t("default")],2):i("div",{key:"2",staticClass:"settings"},[i("h3",[t._v("数据统计")]),t._v(" "),i("div",[t._v("帧率: "+t._s(t.tickRate||"--"))]),t._v(" "),i("div",[t._v("处理落率: "+t._s(t.dropRate||"--"))])])])],1)]),t._v(" "),i("div",{ref:"field",staticClass:"right",on:{click:t.toggle}})])},[],!1,null,null,null);e.default=n.exports}}]);