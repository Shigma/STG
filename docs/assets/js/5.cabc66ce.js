(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{106:function(t,e,s){"use strict";var a=s(79);s.n(a).a},122:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s(93),n=s.n(i),r=s(96),l=s(92),h=(s(98),s(70)),o={components:{Sidebar:r.a,Field:l.a},data:()=>({tickRate:"--",frameRate:"--",bulletCount:0,deathCount:0,grazeCount:0,useKeyboard:!0,fieldHeight:null}),computed:{fieldStyle(){return this.fieldHeight?{height:this.fieldHeight+"px",width:this.fieldHeight/7*6+"px"}:{}},sidebarItems(){return[Object(h.k)("/",this.$site.pages,"/"),Object(h.k)("/guide/",this.$site.pages,"/"),Object(h.k)("/API/",this.$site.pages,"/"),...Object(h.n)(this.$page,this.$page.regularPath,this.$site,this.$localePath)]}},async mounted(){n.a.configure({showSpinner:!1}),this.$router.beforeEach((t,e,s)=>{t.path===e.path||a.a.component(t.name)||n.a.start(),s()}),this.$router.afterEach(()=>{n.a.done()}),await this.layout(),addEventListener("resize",()=>this.layout())},methods:{async layout(){if(await this.$nextTick(),!this.$refs.container)return;const{clientWidth:t}=this.$refs.container;this.fieldHeight=Math.min(innerHeight-32,(t-32)/6*7)},parseStats(t){t&&(this.tickRate=t.tickRate.toFixed(1),this.frameRate=t.frameRate.toFixed(1),this.bulletCount=t.bulletCount,this.deathCount=t.deathCount,this.grazeCount=t.grazeCount)}}},u=(s(106),s(3)),d=Object(u.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"theme-container no-navbar sidebar-open"},[s("Sidebar",{attrs:{items:t.sidebarItems,"no-nav":""}},[s("div",{staticClass:"stats",attrs:{slot:"bottom"},slot:"bottom"},[s("p",{staticClass:"title"},[t._v("数据统计")]),t._v(" "),s("div",{staticClass:"stat"},[t._v("逻辑帧率: "+t._s(t.tickRate))]),t._v(" "),s("div",{staticClass:"stat"},[t._v("物理帧率: "+t._s(t.frameRate))]),t._v(" "),s("div",{staticClass:"stat"},[t._v("子弹数: "+t._s(t.bulletCount))]),t._v(" "),s("div",{staticClass:"stat"},[t._v("死亡数: "+t._s(t.deathCount))]),t._v(" "),s("div",{staticClass:"stat"},[t._v("擦弹数: "+t._s(t.grazeCount))])])]),t._v(" "),s("div",{ref:"container",staticClass:"demo-container"},[s("Field",{style:t.fieldStyle,attrs:{src:t.$frontmatter.name},on:{stats:t.parseStats}})],1)],1)},[],!1,null,null,null);e.default=d.exports},79:function(t,e,s){},92:function(t,e,s){"use strict";var a=s(4),i={props:{src:String,autoRun:Boolean,width:{type:Number,default:480},height:{type:Number,default:560}},data:()=>({active:!1,stats:null}),watch:{src:"setBarrage"},async mounted(){await this.$loading.bullets,await this.$loading.player,this.field=new a.Field(this.$el,{width:this.width,height:this.height,statsInterval:50,onPause:()=>{this.$emit("pause"),this.active=!1},onResume:()=>{this.$emit("resume"),this.active=!0},onStats:t=>{const e=this.field.player||{};t.deathCount=e.deathCount||0,t.grazeCount=e.grazeCount||0,t.bulletCount=this.field.barrage.$bullets.length,this.$emit("stats",t),this.stats=t}}),this.autoRun||await this.field.setPlayer({display:"hakurei_reimu"}),await this.setBarrage()},methods:{async setBarrage(){this.field&&(await this.field.setBarrage(this.$demo[this.src]),this.$emit("stats",null),this.autoRun&&this.field.toggle())},toggle(){this.field&&this.field.toggle()}}},n=s(3),r=Object(n.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null);e.a=r.exports}}]);